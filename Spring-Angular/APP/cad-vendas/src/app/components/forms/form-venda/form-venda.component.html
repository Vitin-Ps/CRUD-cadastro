
<form (ngSubmit)="submit()" [formGroup]="vendasForm" #formDir="ngForm">
    <div class="form-group">
      <label for="funcionario">Funcionário: </label>
      <ng-container *ngIf="funcionario == undefined; else comId">
        <select
          formControlName="funcionarioId"
          (change)="selecionarFuncionario($event)"
          required
        >
          <option value="{{ null }}" selected disabled>Selecione</option>
          <option
            *ngFor="let funcionario of funcionarios"
            value="{{ funcionario.id }}"
          >
            {{ funcionario.nome }}
          </option>
        </select>
      </ng-container>
      <ng-template #comId>
        <input type="text" value="{{ funcionario?.nome }}" readonly />
        <input type="hidden" formControlName="funcionarioId" readonly />
      </ng-template>
      <div
        *ngIf="funcionarioId.invalid && formDir.submitted"
        class="validation-error"
      >
        <p *ngIf="funcionarioId.errors?.['required']">
          Escolha um funcionário!
        </p>
      </div>
    </div>
    <div class="form-group">
      <label for="valor">Valor da venda: </label>
      <input
        type="text"
        formControlName="valor"
        value="{{ valorVenda }}"
        required
        readonly
      />
      <div
        *ngIf="valor.invalid && formDir.submitted"
        class="validation-error"
      >
        <p *ngIf="valor.errors?.['required']">Nenhum produto selecionado!</p>
      </div>
      <ng-container *ngIf="funcionarioSelecionado != null">
        <a [routerLink]="['/carrinho-produtos', funcionarioSelecionado]"
          ><button class="btn-padrao">Editar Carrinho</button></a
        >
      </ng-container>
    </div>
    <input type="submit" value="{{ btnText }}" />
  </form>